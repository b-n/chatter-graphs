<!DOCTYPE html>
<html>
    <head>
        <script src="https://d3js.org/d3.v4.min.js"></script>
        <script src="chart.js"></script>
        <style>
            .p-line {
                fill: none;
                stroke: black;
                stroke-width: 1.5px;
            }
        </style>

    </head>
    <body>
        <script>

        const init = () => {
            const chart = new ChatterGraph(1000,800);
            chart.buildChart();
            //buildChart();

            getChatterPosts()
                .then(data => chart.updateData(data));
        };

        const getChatterPosts = () => {
            return fetch('/data').then(result => result.json());
        }

        document.addEventListener('DOMContentLoaded', () => { init() });
        </script>
    </body>
</html>
